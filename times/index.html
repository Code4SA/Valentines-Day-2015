<!DOCTYPE html>
<html lang="en">
<head>
    <link href="assets/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/base.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- font for text -->
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro' rel='stylesheet' type='text/css'>
    <!-- font for headers -->
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <meta charset="utf-8">
    <title>Love horoscope: let the data speak</title>

</head>
<body>


  <div class="container">

  <div class="col-md-5 title">
    <h1>
      LOVE HOROSCOPE
    </h1>
  </div>

  <div class="col-md-4 title">
    <h1>
      <small>let the data speak </small><img width=25 height=30 src="cupid.png">
    </h1>

  </div>

  <div class="col-md-8 col-sm-10 col-xs-12">
    <div class="maintext">
      It’s the month of love, and we have no doubt that there’ll be a few rings in champagne glasses this Sunday. But how likely is it really?
      While you’re busy counting roses and month anniversaries, we turned to the data for a more accurate view of who, or rather which ages, are most inclined to tie the knot.
      The 2014 marriage data released this month by Statistics South Africa offers surprising insights on South African marriages.
      For example, women are marrying younger…men, that is!
      When we visualised the data, we found that women pensioners were less picky about age than men in the same age group.
      While men over 70 tend to choose from the over 40 age range, we found that older women didn’t
      mind dipping into the 17-25-year old pool.
      So what does this mean? Maybe it’s time to adjust the ASL (Age, Sex, Location)
      on your online dating profile.<br>

      <strong>Use the interactive chart below to check out where you and your partner
        sit on the marriage age scale.</strong><br>
      </div>
  </div>

    <div class="col-md-12"><div id="slopeChart"></div></div>


    <script type="text/javascript" src="libs/pym.js"></script>
    <script src="libs/d3.v3.js"></script>
    <script src="libs/slope_mod.js"></script>

    <link rel="stylesheet" href="assets/tipsy.css">
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="libs/tipsy.js"></script>

    <script type="text/javascript">

      var datacount = [150710, 150710];<!--total number: women,man-->

      var data_ages=[
        ['17-25','17-25',9133],
        ['17-25','25-30',1920],
        ['17-25','30-35',426],
        ['17-25','35-40',102],
        ['17-25','40-45',32],
        ['17-25','45-50',10],
        ['17-25','50-55',3],
        ['25-30','17-25',13010],
        ['25-30','25-30',16567],
        ['25-30','30-35',2934],
        ['25-30','35-40',580],
        ['25-30','40-45',170],
        ['25-30','45-50',32],
        ['25-30','50-55',8],
        ['25-30','55-60',3],
        ['25-30','60-70',2],
        ['30-35','17-25',5107],
        ['30-35','25-30',15852],
        ['30-35','30-35',10870],
        ['30-35','35-40',2065],
        ['30-35','40-45',438],
        ['30-35','45-50',121],
        ['30-35','50-55',24],
        ['30-35','55-60',3],
        ['30-35','60-70',5],
        ['35-40','17-25',1516],
        ['35-40','25-30',6077],
        ['35-40','30-35',10208],
        ['35-40','35-40',5928],
        ['35-40','40-45',1276],
        ['35-40','45-50',317],
        ['35-40','50-55',67],
        ['35-40','55-60',14],
        ['35-40','60-70',9],
        ['40-45','17-25',454],
        ['40-45','25-30',1983],
        ['40-45','30-35',4252],
        ['40-45','35-40',5764],
        ['40-45','40-45',3557],
        ['40-45','45-50',840],
        ['40-45','50-55',205],
        ['40-45','55-60',55],
        ['40-45','60-70',15],
        ['40-45','70+',1],
        ['45-50','17-25',166],
        ['45-50','25-30',675],
        ['45-50','30-35',1469],
        ['45-50','35-40',2535],
        ['45-50','40-45',3261],
        ['45-50','45-50',2077],
        ['45-50','50-55',528],
        ['45-50','55-60',110],
        ['45-50','60-70',34],
        ['45-50','70+',3],
        ['50-55','17-25',65],
        ['50-55','25-30',246],
        ['50-55','30-35',564],
        ['50-55','35-40',1049],
        ['50-55','40-45',1705],
        ['50-55','45-50',2030],
        ['50-55','50-55',1168],
        ['50-55','55-60',287],
        ['50-55','60-70',63],
        ['50-55','70+',6],
        ['55-60','17-25',33],
        ['55-60','25-30',89],
        ['55-60','30-35',220],
        ['55-60','35-40',426],
        ['55-60','40-45',736],
        ['55-60','45-50',1115],
        ['55-60','50-55',1288],
        ['55-60','55-60',619],
        ['55-60','60-70',207],
        ['55-60','70+',12],
        ['60-70','17-25',16],
        ['60-70','25-30',61],
        ['60-70','30-35',112],
        ['60-70','35-40',237],
        ['60-70','40-45',405],
        ['60-70','45-50',695],
        ['60-70','50-55',899],
        ['60-70','55-60',984],
        ['60-70','60-70',953],
        ['60-70','70+',95],
        ['70+','17-25',5],
        ['70+','25-30',9],
        ['70+','30-35',11],
        ['70+','35-40',28],
        ['70+','40-45',81],
        ['70+','45-50',131],
        ['70+','50-55',174],
        ['70+','55-60',216],
        ['70+','60-70',504],
        ['70+','70+',353]
      ];

      var width = 510, height = 660, margin ={b:0, t:40, l:140, r:50};

      var svg = d3.select("#slopeChart")
      .append("svg").attr('width', width).attr('height', (height + margin.b + margin.t))
      .append("g").attr("transform", "translate("+ margin.l + "," + margin.t + ")");

      var data = [
          {
              data: bP.partData(data_ages, 2, datacount),
              id: 'Region_X',
              header: ["WOMEN", "MEN", "Mix and match"]
          },
      ];

      function drawGraphic(width) {
          bP.draw(data, svg);
      }

      var pymChild = new pym.Child({ renderCallback: drawGraphic });
    </script>
  </div>



  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-48399585-31', 'auto');
    ga('send', 'pageview');
  </script>
  <!-- End Google Analytics -->



</body>
</html>
